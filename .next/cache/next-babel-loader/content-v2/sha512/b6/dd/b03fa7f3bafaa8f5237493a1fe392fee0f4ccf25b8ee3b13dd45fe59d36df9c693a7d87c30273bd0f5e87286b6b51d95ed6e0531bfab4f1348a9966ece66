{"ast":null,"code":"import mongoose from 'mongoose';\n\nrequire('dotenv').config();\n\nlet mongoConnection = 0;\n\nfunction connectToMongo() {\n  if (mongoConnection > 0) return;\n  mongoose.connect(process.env.DATABASE_URL, {\n    useFindAndModify: true,\n    useUnifiedTopology: true,\n    useNewUrlParser: true\n  });\n  const db = mongoose.connection;\n  mongoConnection = db.readyState;\n}\n\nexport default connectToMongo;","map":{"version":3,"sources":["/home/gustavo/Documentos/Github/nextjs-user-list/src/database/connection.ts"],"names":["mongoose","require","config","mongoConnection","connectToMongo","connect","process","env","DATABASE_URL","useFindAndModify","useUnifiedTopology","useNewUrlParser","db","connection","readyState"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;;AACAC,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,IAAIC,eAAe,GAAG,CAAtB;;AAEA,SAASC,cAAT,GAA0B;AAEtB,MAAID,eAAe,GAAG,CAAtB,EAAyB;AAEzBH,EAAAA,QAAQ,CAACK,OAAT,CAAiBC,OAAO,CAACC,GAAR,CAAYC,YAA7B,EAA2C;AACvCC,IAAAA,gBAAgB,EAAE,IADqB;AAEvCC,IAAAA,kBAAkB,EAAE,IAFmB;AAGvCC,IAAAA,eAAe,EAAE;AAHsB,GAA3C;AAMA,QAAMC,EAAE,GAAGZ,QAAQ,CAACa,UAApB;AACAV,EAAAA,eAAe,GAAGS,EAAE,CAACE,UAArB;AAEH;;AAED,eAAeV,cAAf","sourcesContent":["import mongoose from 'mongoose';\nrequire('dotenv').config()\n\nlet mongoConnection = 0;\n\nfunction connectToMongo() {\n\n    if (mongoConnection > 0) return;\n\n    mongoose.connect(process.env.DATABASE_URL, {\n        useFindAndModify: true,\n        useUnifiedTopology: true,\n        useNewUrlParser: true\n    })\n\n    const db = mongoose.connection;\n    mongoConnection = db.readyState;\n    \n}\n\nexport default connectToMongo;"]},"metadata":{},"sourceType":"module"}